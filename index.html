<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<style>

@import url(http://fonts.googleapis.com/css?family=PT+Serif|PT+Serif:b|PT+Serif:i);

section {
  background: #fff;
  color: #000;
  padding: 2em;
  font-family: "PT Serif", Baskerville, Georgia;
}

.grey {
  color: #777;
}

.green {
  color: #89b889;
}
a:link,
a:visited {
  color: orange;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h3 {
  color: #89b889;
}

mark {
  color: #89b889;
  background: none;
}

blockquote {
  background: #eee;
  border-left: 10px solid #89b889;
  margin: 1.5em 10px;
  padding: 0.5em 10px;
  quotes: "\201C""\201D""\2018""\2019";
}

blockquote:before {
  color: #89b889;
  content: open-quote;
  font-size: 4em;
  line-height: 0.1em;
  margin-right: 0.25em;
  vertical-align: -0.4em;
}
blockquote p {
  display: inline;
}

.example {
  text-align: left;
}


#tooltipSeven {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 10;
  margin: 0;
  padding: 10px;
  width: 240px;
  color: white;
  font-family: sans-serif;
  font-size: 14px;
  line-height: 20px;
  font-weight: normal;
  text-align: left;
  background-color: rgba(0, 0, 0, 0.55);
  opacity: 0;
  pointer-events: none;
  border-radius:5px;
  transition: .2s;
}
.column-holder {
  table-layout: fixed;
  display: table;
  width: 100%;
}

.column-holder .column {
  vertical-align: bottom;
  display: table-cell;
  padding: 0 10px;
}

.percent{
  width: 30%;
}
.name{
  width: 70%;
}

</style>


<section style="text-align:center; padding:5em 9em;">
    <h3 style="font-size:140%;"><b>d3-composite-projections</b></h3>
    <img src="img/conicConformalFrance.svg" width="80%"/>
</section>
<section style="text-align:center;padding-top:5em;">

    <h3>¿Qué es D3?</h3>
    <blockquote>
      <p>Datos -> Documentos</p>
    </blockquote>

</section>
<section style="text-align:center; padding:5em 9em;">

    <h3>¿Qué NO es D3?</h3>
    <ul>
      <li>Una librería de mapas <mark>pero se pueden hacer mapas con ella</mark></li>
      <li>Una librería de gráficos <mark>pero se pueden hacer gráficos con ella</mark></li>
      <li>Una herramienta de generación de SVG, Canvas o HTML</li>
      <li>Una librería de dibujo <mark>no tiene ninguna función para dibujar</mark></li>
    </ul>
</section>
<section style="text-align:center; padding:5em 9em;">

    <h3>¿Qué es D3?</h3>
    <blockquote>
      <p>Transformación de información a elementos de la página web</p>
    </blockquote>
</section>

<section class="example" style="" id="exampleOne">
  <pre>[
    {"name":"Real Madrid", "result": 93},
    {"name":"Barcelona", "result": 90}, ...
  ]
  </pre>
  <div id="exampleOnePlaceholder"></div>
</section>

<section style="text-align:center; padding:5em 9em;">
  <h3><i>"General Update Pattern"</i></h3>
  <img src="img/pattern.svg" width="80%"/>
</section>

<section class="example" style="" id="exampleTwo">
  <form id="exampleTwoForm">
    <input type="radio" name="season" checked="checked" value=0>2014-2015</input>
    <input type="radio" name="season" value=1>2015-2016</input>
    <input type="radio" name="season" value=2>2016-2017</input>
  </form>
  <div id="exampleTwoPlaceholder"></div>
</section>
<section class="example" style="" id="exampleThree">
  <h3><i>"Layouts"</i></h3>
  <div id="exampleThreePlaceholder"></div>
</section>
<section class="example" style="" id="exampleFour">
  <h3><i>"Layouts"</i></h3>
  <div id="exampleFourPlaceholder"></div>
</section>
<section class="example" style="" id="exampleFive">
  <h3>Mapas</h3>
  <div id="exampleFivePlaceholder"></div>
</section>
<section class="example" style="" id="exampleSix">
  <h3>d3-composite-projections</h3>
  <div id="exampleSixPlaceholder"></div>
</section>
<section style="text-align:center; padding:5em 9em;">
  <h3>Proyecciones compuestas</h3>
  <img src="img/worldmap.png" width="90%"/>
</section>
<section style="padding:5em 9em;">
  <h3>Proyecciones compuestas</h3>
  <ul>
    <li>Distintas proyecciones según región y tamaño</li>
    <li>Traslación hacia la <i>región principal</i></li>
    <li>Re-escalado de las regiones muy pequeñas o muy grandes</li>
  </ul>
</section>
<section class="example" style="" id="exampleSeven">
  <h3>conicConformalFrance: Mapa electoral</h3>
  <div id="tooltipSeven"></div>
  <div id="exampleSevenPlaceholder"></div>
</section>
<section style="padding:3em 7em;">
  <h3>Proyecciones compuestas: d3-composite-projections</h3>
  <ul>
    <li><img src="img/checkgreen.svg" width="30px"/>Escala</li>
    <li><img src="img/checkyellow.svg" width="30px"/>Proyección inversa</li>
    <li><img src="img/cross.svg" width="30px"/>Rotación/Configuración</li>
    <li><img src="img/checkgreen.svg" width="30px"/>Estilo de programación como módulo de D3js</li>
    <li><img src="img/checkgreen.svg" width="30px"/>Librería <i>oficial</i> para proyeccioes compuestas</li>
  </ul>
</section>
<section style="padding:5em 9em;">
  <h3><a href="http://datos.elespanol.com/elecciones-generales/resultados/analisis/">conicConformalSpain</a>: Uso en periódicos</h3>
  <img src="img/conicConformalSpain.png" width="80%"/>
</section>
<section class="example" style="" id="exampleEight">
  <h3>marcatorMalaysia: Mapa de banderas</h3>
  <div id="exampleEightPlaceholder"></div>
</section>
<section class="example" style="" id="exampleNine">
  <h3>conicConformalEurope: Coropletas estadísticas</h3>
  <div id="exampleNinePlaceholder"></div>
</section>
<section>
  <h3>Otras proyecciones</h3>
  <ul>
    <li><a href="http://bl.ocks.org/rveciana/170a76b8dc1f9cfd8b2d">USA</a>: geoAlbersUSA</li>
    <li><a href="http://bl.ocks.org/rveciana/fe6b452c853146e674dd6dd09c1cc6e3">USA Territories</a>: geoAlbersUsaTerritories (American Samoa, Puerto Rico, U.S. Virgin Islands, Guam y Northern Marianas Islands)</li>
    <li><a href="https://bl.ocks.org/rveciana/ee09a2c3732f3e0d6872d1a7f796a29b">Portugal</a>: geoConicConformalPortugal</li>
    <li><a href="http://bl.ocks.org/rveciana/54a22b292758e1b3f4e5">Japón</a>: geoConicEquidistantJapan</li>
    <li><a href="http://bl.ocks.org/rveciana/29671e257e9e724d2857f726844777b6">Ecuador</a>: geoMercatorEcuador</li>
    <li><a href="http://bl.ocks.org/rveciana/f0a8ec08d0b63d0cdc6985cc37468b9a">Chile</a>: geoTransverseMercatorChile (incluyendo territorios antárticos)</li>
    <li><a href="http://bl.ocks.org/rveciana/4dfc136b8e2707f182aa4591f892f82e">Guinea Ecuatorial</a>: geoMercatorEquatorialGuinea</li>
  </ul>
</section>

<script src="js/d3.v4.min.js"></script>
<script src="js/d3-composite-projections.min.js"></script>
<script src="js/stack.v2.js"></script>
<script src="js/topojson.v2.min.js"></script>
<script src="http://d3js.org/colorbrewer.v1.min.js"></script>
<script src="js/initialExamples.js"></script>
<script src="js/exampleSeven.js"></script>
<script src="js/exampleEightNine.js"></script>

<script>

var mystack = stack()
    .on("activate", activate)
    .on("deactivate", deactivate);

var section = d3.selectAll("section"),
exampleOneIndex = 0,
exampleTwoIndex = 0,
exampleThreeIndex = 0,
exampleFourIndex = 0,
exampleFiveIndex = 0,
exampleSixIndex = 0,
exampleSevenIndex = 0,
exampleEightIndex = 0,
exampleNineIndex = 0;

for(var i = 0; i < section['_groups'][0].length; i++){
    if( section['_groups'][0].item(i).id == 'exampleOne')
      exampleOneIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleTwo')
        exampleTwoIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleThree')
        exampleThreeIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleFour')
        exampleFourIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleFive')
        exampleFiveIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleSix')
        exampleSixIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleSeven')
        exampleSevenIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleEight')
        exampleEightIndex = i;
    if( section['_groups'][0].item(i).id == 'exampleNine')
        exampleNineIndex = i;


}


function refollow() {
  followAnchor.style("top", (followIndex + (1 - mystack.scrollRatio()) / 2 - d3.event.offset) * 100 + "%");
}

function activate(d, i) {
  if (i === exampleOneIndex) {
    startExampleOne();
  } else if (i === exampleTwoIndex) {
    startExampleTwo();
  } else if (i === exampleThreeIndex) {
    startExampleThree();
  } else if (i === exampleFourIndex) {
    startExampleFour();
  } else if (i === exampleFiveIndex) {
    startExampleFive();
  } else if (i === exampleSixIndex) {
    startExampleSix();
  } else if (i === exampleSevenIndex) {
    startExampleSeven();
  } else if (i === exampleEightIndex) {
    startExampleEight();
  } else if (i === exampleNineIndex) {
    startExampleNine();
  }
}

function deactivate(d, i) {
  if (i === exampleOneIndex) {
    stopExampleOne();
  } else if (i === exampleTwoIndex) {
    stopExampleTwo();
  } else if (i === exampleThreeIndex) {
    stopExampleThree();
  } else if (i === exampleFourIndex) {
    stopExampleFour();
  } else if (i === exampleFiveIndex) {
    stopExampleFive();
  } else if (i === exampleSixIndex) {
    stopExampleSix();
  } else if (i === exampleSevenIndex) {
    stopExampleSeven();
  } else if (i === exampleEightIndex) {
    stopExampleEight();
  } else if (i === exampleNineIndex) {
    stopExampleNine();
  }
}


</script>
